<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>nepobabiesruntheunderground</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- 1) Your fixed parallax layer -->
    <div class="parallax-bg"></div>

    <!-- 2) The pixel-canvas sits immediately above it -->
    <canvas id="pixel-canvas"></canvas>

    <!-- 3) The overlay and rest of your content remain as before -->
    <div class="pillsieat-overlay"></div>
    <img src="nepobabiesruntheundergroundlogo.png" class="logo" alt="Logo" />

    <main>
      <div id="content">
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
      </div>
      <div id="flashing-div">
        <p style="font-size: 2.5em">fuck</p>
        <p style="font-size: 2.5em">you</p>
        <p style="font-size: 2.5em">slut</p>
      </div>
    </main>

    <script>
      // flashing-div script
      const flashingDiv = document.getElementById("flashing-div");
      function randomBW() {
        const shade = Math.floor(Math.random() * 100);
        flashingDiv.style.color = shade > 50 ? "black" : "white";
      }
      setInterval(randomBW, 5);

      const parallaxBg = document.querySelector(".parallax-bg");
      let latestScrollY = 0,
        ticking = false;

      function resizeParallax() {
        // how far the page can scroll:
        const maxScrollY = document.body.scrollHeight - window.innerHeight;
        // set .parallax-bg to cover viewport + half of that scroll range
        parallaxBg.style.height = `${window.innerHeight + maxScrollY * 0.5}px`;
      }

      // parallax update as before
      function updateParallax() {
        parallaxBg.style.transform = `translateY(${latestScrollY * -0.5}px)`;
        ticking = false;
      }

      function onScroll() {
        latestScrollY = window.scrollY;
        if (!ticking) {
          window.requestAnimationFrame(updateParallax);
          ticking = true;
        }
      }

      window.addEventListener("load", resizeParallax);
      window.addEventListener("resize", resizeParallax);
      window.addEventListener("scroll", onScroll, { passive: true });
    </script>
  </body>
</html>

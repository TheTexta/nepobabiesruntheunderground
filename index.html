<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>nepobabiesruntheunderground</title>
    <meta
      name="description"
      content="Personal website and web development ability showcase for dexter."
    />
    <link
      rel="canonical"
      href="https://thetexta.github.io/nepobabiesruntheunderground/index.html"
    />
    <link rel="stylesheet" href="assets/css/styles.css" />
    <link rel="manifest" href="manifest.json" />
    <meta
      name="theme-color"
      content="#ffffff"
      media="(prefers-color-scheme: dark)"
    />
    <!-- Favicons -->
    <link
      rel="icon"
      type="image/png"
      href="assets/images/favicons/favicon-16x16.png"
      sizes="16x16"
    />
    <link
      rel="icon"
      type="image/png"
      href="assets/images/favicons/favicon-32x32.png"
      sizes="32x32"
    />
    <link
      rel="icon"
      type="image/png"
      href="assets/images/favicons/favicon-96x96.png"
      sizes="96x96"
    />
    <link
      rel="icon"
      type="image/x-icon"
      href="assets/images/favicons/favicon.ico"
    />
    <link
      rel="apple-touch-icon"
      href="assets/images/favicons/apple-touch-icon.png"
    />
    <link rel="shortcut icon" href="assets/images/favicons/favicon.ico" />
    <!-- Microsoft Tiles -->
    <meta
      name="msapplication-TileImage"
      content="assets/images/favicons/mstile-144x144.png"
    />
    <meta name="msapplication-TileColor" content="#000000" />
    <script defer src="assets/js/tvstatic.js"></script>
  </head>
  <body>
    <!-- TV Static overlay canvas with screen blend mode  <canvas id="tv-static-canvas"></canvas>-->

    <!-- Top layer TV static canvas with different blend mode -->
    <canvas id="tv-static-top"></canvas>

    <!-- TODO: parallax scrolling effects through invisible child containers whose positions are updated -->
    <div id="background">
      <!-- TODO: use sin wave with random noise to modulate the brightness on hover -->
      <div class="invert-wrapper parallax" id="parallax-bg"></div>
      <div class="invert-wrapper parallax" id="parallax-fg"></div>
      <div class="pillsieat-overlay"></div>
    </div>

    <!-- TODO make it so that each individual letter has the hover effect such that the whole thing is bubbling upon hover-->
    <section id="logo-section">
      <a href="index.html">
        <div class="difference-wrapper logo-layer" id="logo-background">
          <h1 class="logo-text" id="background-logo-text">
            nepobabiesruntheunderground
          </h1>
          <p class="logo-text-small logo-text" id="background-logo-text-small">
            nepobabiesruntheunderground
          </p>
        </div>
        <div class="logo-layer" style="mix-blend-mode: hue;" id="logo-foreground">
          <p class="logo-text" id="foreground-logo-text">nepobabiesruntheunderground</p>
          <p class="logo-text-small logo-text" id="foreground-logo-text-small">nepobabiesruntheunderground</p>
        </div>
      </a>
    </section>

    <section id="bassvictim-section">
      <a href="https://www.instagram.com/nepobabiesruntheunderground/">
        <div class="bassvictim-container">
          <img
            src="assets/images/bassvictim.png"
            class="background_bassvictim"
            alt="Bassvictim music artist 'Makes You Wonder' single cover"
          />
          <img
            src="assets/images/bassvictim_overlay.png"
            class="overlay_bassvictim"
            alt=""
            aria-hidden="true"
          />
          <div class="bassvictim_text">
            <p>INSTAGRAM</p>
            <p>INSTAGRAM</p>
            <p>INSTAGRAM</p>
            <p>INSTAGRAM</p>
            <p>INSTAGRAM</p>
            <p>INSTAGRAM</p>
            <p>INSTAGRAM</p>
            <p>INSTAGRAM</p>
            <p>INSTAGRAM</p>
            <p>INSTAGRAM</p>
          </div>
        </div>
      </a>
    </section>

    <section id="nettspend-parallax">
      <img
        src="assets/images/nettspend.gif"
        alt="Animated Netspend meme"
        class="drankgif drankdrankdrank"
      />
      <img
        src="assets/images/nettspend_overlay.png"
        class="drankdrankdrank"
        alt=""
        aria-hidden="true"
      />
      <a
        href="https://www.last.fm/user/TheTexta"
        aria-label="TheTexta on Last.fm"
      >
        <img
          src="assets/images/nettspend_overlay.png"
          class="drankhue drankdrankdrank"
          alt=""
          aria-hidden="true"
        />
      </a>
    </section>

    <section>
      <a href="./me.html" aria-label="About me">
        <img
          src="assets/images/me_background.gif"
          alt=""
          class="me_background me"
          loading="lazy"
          aria-hidden="true"
        />
        <img
          src="assets/images/me_foreground.gif"
          alt=""
          class="me_foreground me"
          loading="lazy"
          aria-hidden="true"
        />
        <img
          src="assets/images/me_background.gif"
          alt=""
          class="me_ultraforeground me"
          loading="lazy"
          aria-hidden="true"
        />
        <img
          src="assets/images/me_hover.gif"
          alt=""
          class="me_hover me"
          loading="lazy"
          aria-hidden="true"
        />
      </a>
    </section>

    <section>
      <a
        href="https://open.spotify.com/user/djaydex?si=b02c31c1b8a248ca"
        aria-label="nepobabiesruntheunderground on Spotify"
      >
        <img
          src="assets/images/pilleater.png"
          alt=""
          class="pilleater-image"
          id="pilleater-background"
          aria-hidden="true"
        />
        <img
          src="assets/images/pilleater.png"
          alt=""
          class="pilleater-image-foreground pilleater-image"
          id="pilleater-foreground"
          aria-hidden="true"
        />
      </a>
    </section>

    <main>
      <!-- TODO have a poem where specific words link to favourite songs/videos-->
      <div id="content">
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <a class="strobing-text" href="https://tdjmusic.bandcamp.com/track/kiss-me-thru-ur-flip"
          ><p>i dont need anything</p></a
        >
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
      </div>
    </main>

    <script>
      // Manual TV static initialization with explicit options
      // Disable auto-init in tvstatic.js so we control setup here
      window.TVSTATIC_AUTO_INIT = false;
      // Use window load to ensure deferred scripts are executed and shaders are fetchable
      window.addEventListener(
        "load",
        function () {
          try {
            if (typeof window.createTVStaticOverlay !== "function") {
              // tvstatic.js not ready; bail safely
              return;
            }

            // Top overlay with its CSS class for styling
            var topCanvas = document.getElementById("tv-static-top");
            if (topCanvas) {
              if (!topCanvas.classList.contains("tv-static-top")) {
                topCanvas.classList.add("tv-static-top");
              }
              window.createTVStaticOverlay("tv-static-top", {
                pixelScale: 4,
                scaleIntensity: 100,
                staticSpeed: 15,
                rippleFalloff: 5.0,
                opacity: 1,
              });
            }
          } catch (e) {
            console.error("TV static manual init failed:", e);
          }
        },
        { once: true }
      );
      window.addEventListener("DOMContentLoaded", () => {
        const logoForeground = document.getElementById("logo-foreground");
        if (logoForeground) {
          logoForeground.addEventListener("mouseover", () => {
            document.getElementById("background-logo-text").style.color =
              "#000"; // black

            document.getElementById("background-logo-text-small").style.color =
              "#fff"; // white
          });
          logoForeground.addEventListener("mouseout", () => {
            document.getElementById("background-logo-text").style.color =
              "#fff";
            document.getElementById("background-logo-text-small").style.color =
              "#000";
          });
        }


        // BASSVICTIM TEXT REVEAL EFFECT
        const bass = document.querySelector(".bassvictim-container");
        if (bass) {
          const lines = bass.querySelectorAll(".bassvictim_text p");
          let revealTimeouts = [];
          bass.addEventListener("mouseenter", () => {
            revealTimeouts = [];
            lines.forEach((p, i) => {
              const timeoutId = setTimeout(() => {
                p.classList.add("reveal");
              }, i * 30);
              revealTimeouts.push(timeoutId);
            });
          });
          bass.addEventListener("mouseleave", () => {
            revealTimeouts.forEach(clearTimeout);
            revealTimeouts = [];
            lines.forEach((p) => p.classList.remove("reveal"));
          });
        }

        // TODO move all this to css. it can be done with css animations and keyframes very easily
        const pilleaterForeground = document.getElementById(
          "pilleater-foreground"
        );
        const pilleaterBackground = document.getElementById(
          "pilleater-background"
        );
        if (pilleaterForeground && pilleaterBackground) {
          let flashed = false;
          setInterval(() => {
            pilleaterBackground.style.filter = flashed
              ? "invert(0)"
              : "invert(1)";
            flashed = !flashed;
          }, 140);
        }
      });

      // PARALLAX SCROLLING EFFECTS
      window.addEventListener("scroll", () => {
        const y = window.scrollY;
        document.getElementById("parallax-bg").style.backgroundPositionY = `${
          y * -0.1
        }px`;
        document.getElementById("parallax-fg").style.backgroundPositionY = `${
          y * -0.3
        }px`;
      });
    </script>
    <script>
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
          navigator.serviceWorker.register("sw.js");
        });
      }
    </script>
  </body>
</html>

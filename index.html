<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>nepobabiesruntheunderground</title>
    <link rel="stylesheet" href="assets/css/styles.css" />
    <link rel="manifest" href="manifest.json" />
    <meta
      name="theme-color"
      content="#ffffff"
      media="(prefers-color-scheme: dark)"
    />
  <link rel="icon" type="image/png" href="assets/images/favicon.png" />
  <script defer src="assets/js/parallax.js"></script>
  <script defer src="assets/js/tvstatic.js"></script>
  <script defer src="assets/js/sw-register.js"></script>
  </head>
  <body>
    <!-- TV Static overlay canvas with screen blend mode -->
    <canvas id="tv-static-canvas"></canvas>
    
    <!-- Top layer TV static canvas with different blend mode -->
    <canvas id="tv-static-top"></canvas>
    
    <div id="background">
      <!-- TODO: use sin wave with random noise to modulate the brightness on hover -->
      <div class="invert-wrapper parallax parallax-bg"></div>
      <div class="invert-wrapper parallax parallax-fg"></div>
      <div class="pillsieat-overlay"></div>
    </div>

    <!-- TODO make it so that each individual letter has the hover effect such that the whole thing is bubbling upon hover-->
    <section id="logo-section">
      <a href="index.html">
        <div class="difference-wrapper logo-layer" id="logo-background">
          <span class="logo-filter">
            <p class="logo-text">nepobabiesruntheunderground</p>
            <p class="logo-text-small logo-text">nepobabiesruntheunderground</p>
          </span>
        </div>
        <div class="hue-wrapper logo-layer" id="logo-foreground">
          <p class="logo-text">nepobabiesruntheunderground</p>
          <p class="logo-text-small logo-text">nepobabiesruntheunderground</p>
        </div>
      </a>
    </section>

    <section id="bassvictim-section">
      <a href="https://www.instagram.com/nepobabiesruntheunderground/">
        <div class="bassvictim-container">
          <img
            src="assets/images/bassvictim.png"
            class="background_bassvictim"
            alt="Makes You Wonder"
          />
          <img
            src="assets/images/bassvictim_overlay.png"
            class="overlay_bassvictim"
            alt="Makes You Wonder"
          />
          <div class="bassvictim_text">
            <p>INSTAGRAM</p>
            <p>INSTAGRAM</p>
            <p>INSTAGRAM</p>
            <p>INSTAGRAM</p>
            <p>INSTAGRAM</p>
            <p>INSTAGRAM</p>
            <p>INSTAGRAM</p>
            <p>INSTAGRAM</p>
            <p>INSTAGRAM</p>
            <p>INSTAGRAM</p>
          </div>
        </div>
      </a>
    </section>

    <section id="nettspend-parallax">
      <img src="assets/images/nettspend.gif" alt="" class="drankgif drankdrankdrank" />
      <img src="assets/images/nettspend_overlay.png" class="drankdrankdrank" />
      <a href="https://www.last.fm/user/TheTexta">
        <img src="assets/images/nettspend_overlay.png" class="drankhue drankdrankdrank" />
      </a>
    </section>

    
    <section>
      <a href="./me.html">
        <img src="assets/images/me_background.gif" alt="" class="me_background me" loading="lazy" />
        <img src="assets/images/me_foreground.gif" alt="" class="me_foreground me" loading="lazy" />
        <img src="assets/images/me_background.gif" alt="" class="me_ultraforeground me" loading="lazy" />
        <img src="assets/images/me_hover.gif" alt="" class="me_hover me" loading="lazy" />
      </a>
    </section>

    <section>
      <a href="https://open.spotify.com/user/djaydex?si=b02c31c1b8a248ca">
        <img
          src="assets/images/pilleater.png"
          alt=""
          class="pilleater-image"
          id="pilleater-background"
        />
        <img
          src="assets/images/pilleater.png"
          alt=""
          class="pilleater-image-foreground pilleater-image"
          id="pilleater-foreground"
        />
      </a>
    </section>

    <main>
      <div id="content">
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
        <p>i dont need anything</p>
      </div>
    </main>

    <script>

      const logoForeground = document.getElementById("logo-foreground");
      const logoBackground = document.getElementById("logo-background");
      logoForeground.addEventListener("mouseover", () => {
        logoBackground.style.filter = "invert(1)";
      });
      logoForeground.addEventListener("mouseout", () => {
        logoBackground.style.filter = "invert(0)";
      });

      // bassvictim hover effect
      const bass = document.getElementById("bassvictim-section");
      const lines = bass.querySelectorAll(".bassvictim_text p");

      let revealTimeouts = [];

      bass.addEventListener("mouseenter", () => {
        revealTimeouts = []; // reset list
        lines.forEach((p, i) => {
          const timeoutId = setTimeout(() => {
            p.classList.add("reveal");
          }, i * 30);
          revealTimeouts.push(timeoutId);
        });
      });

      bass.addEventListener("mouseleave", () => {
        // Cancel pending reveals
        revealTimeouts.forEach(clearTimeout);
        revealTimeouts = [];

        // Instantly hide everything
        lines.forEach((p) => p.classList.remove("reveal"));
      });

      // pilleater flash effect - constantly flash at interval
      const pilleaterForeground = document.getElementById(
        "pilleater-foreground"
      );
      const pilleaterBackground = document.getElementById(
        "pilleater-background"
      );
      let flashed = false;
      setInterval(() => {
        pilleaterBackground.style.filter = flashed ? "invert(0)" : "invert(1)";
        flashed = !flashed;
      }, 140); // flash interval in ms
    </script>
  </body>
</html>
